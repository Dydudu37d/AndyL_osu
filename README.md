# OSU神经网络

基于PyTorch的OSU游戏神经网络，实现了游戏中各类对象的实时识别和自动操作。

## 项目声明

⚠️ **重要声明**：此项目仅供娱乐、测试和科学研究用途，请勿用于游戏开挂等违规操作。使用本项目可能违反游戏服务条款，后果自负。

## 功能特点

- **实时对象检测**：使用PyTorch实现的卷积神经网络，实时检测OSU游戏中的各类对象
- **智能分类识别**：准确识别circle、slider、spinner等不同类型的游戏对象
- **自动鼠标操作**：
  - circle对象的自动点击
  - slider对象的自动拖动
  - spinner对象的自动旋转
- **高效屏幕捕获**：使用mss库实现高性能屏幕捕获
- **图像处理优化**：针对OSU游戏特性优化的图像处理流程
- **完整训练数据**：包含用于模型训练的示例图像数据

## 技术栈

- **深度学习框架**：PyTorch
- **屏幕捕获**：mss
- **图像处理**：OpenCV
- **鼠标操作**：PyAutoGUI
- **编程语言**：Python

## 项目结构

```
├── main.py             # 主程序入口，包含实时检测和自动操作逻辑
├── analyze_data.py     # 数据处理和分析脚本
├── models/             # 模型存储目录
│   └── osu_model_temp.pth  # 训练模型的临时文件(检查点)
│   └── osu_model.pth  # 训练好的模型文件
├── train_img/          # 训练图像数据
│   ├── 1/              # circle类型训练图像
│   ├── 2/              # slider类型训练图像
│   └── 3/              # spinner类型训练图像
└── .gitignore          # Git忽略文件配置
```

## 安装说明

1. 确保已安装Python 3.7+和pip

2. 安装依赖库：
   ```bash
   pip install torch torchvision opencv-python mss pyautogui numpy
   ```

3. 克隆或下载项目到本地

## 使用方法

1. 运行主程序：
   ```bash
   python main.py
   ```

2. 程序将自动：
   - 加载预训练模型
   - 初始化屏幕捕获
   - 启动实时检测循环
   - 根据检测结果执行相应的鼠标操作

3. 按下'q'键可以暂停/继续检测，长按'q'键2秒可以退出程序

## 模型训练

项目包含了训练图像数据，您可以使用这些数据训练模型或扩展模型功能。

1. 准备训练数据，放入`train_img`目录下的对应子目录
2. 修改并运行`analyze_data.py`脚本进行数据验证(可选)
3. 根据需要调整模型结构（在`main.py`中的`OsuNet`类）
4. 训练模型并保存到`models`目录（训练完之后会自动保存）

## 注意事项

1. 程序运行时，请确保OSU游戏窗口处于激活状态
2. 建议在全屏模式下运行OSU游戏，以获得最佳检测效果
3. 根据不同屏幕分辨率，可能需要调整屏幕捕获区域和图像处理参数
4. 首次运行可能需要几秒时间加载模型
5. 使用过程中如遇到问题，请检查依赖库版本和游戏设置

## 许可证

本项目采用MIT许可证，详见LICENSE文件

## 贡献

欢迎提交Issue和Pull Request，共同改进项目功能
